<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>APP</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style type="text/css">
    .aui-card {
        margin-top: 15px;
    }
    .aui-input-addon.aui-iconfont {
        font-size: 20px !important;
    }
    .aui-input-row {
        width: 100% !important;
    }
    .aui-btn{
        /*margin: 10px;*/
        color: white; 
        height: 45px;     

    }
    </style>
</head>
<body>
    <div class="aui-content aui-card">       
        <div class="aui-form">
            <div class="aui-input-row">
                <i class="aui-input-addon aui-iconfont aui-icon-people aui-text-info"></i>
                <input type="text" class="aui-input" placeholder="用户名" id="name" />
            </div>

            <div class="aui-input-row">
                <i class="aui-input-addon aui-iconfont aui-icon-lock aui-text-warning"></i>
                <input type="password" id="password" class="aui-input" placeholder="密码"/>
                <i class="aui-input-addon aui-iconfont aui-icon-attention aui-text-default" tapmode onclick="showPassword();" id="showpass-btn"></i>
            </div>

            <div class="aui-content">
                    <button class="aui-btn aui-col-xs-6 aui-bg-info" onclick="openReg()" tapmode="background-color:#1abc9c;">注册</button>
                    <button class="aui-btn aui-col-xs-6 aui-bg-warning" id="login" onclick="login()" tapmode="background-color:#1abc9c;">登录</button>
            </div>  
        </div>
    </div>
</body>
<script type="text/javascript" src="../script/api.js" ></script>
<script type="text/javascript" src="../script/login.js" ></script>

<script type="text/javascript">
    var isinerval,times;
    apiready = function () {
        api.parseTapmode();
    }
    function showPassword(){
        $api.attr($api.byId('password'),'type','text');
        $api.removeCls($api.byId('showpass-btn'),'aui-icon-attention');
        $api.addCls($api.byId('showpass-btn'),'aui-icon-attentionfill');
        $api.attr($api.byId('showpass-btn'),'onclick','hidePassword();');
        api.parseTapmode();
    }
    function hidePassword(){
        $api.attr($api.byId('password'),'type','password');
        $api.removeCls($api.byId('showpass-btn'),'aui-icon-attentionfill');
        $api.addCls($api.byId('showpass-btn'),'aui-icon-attention');
        $api.attr($api.byId('showpass-btn'),'onclick','showPassword();');
        api.parseTapmode();
    }
    // function getVerify() {
    //     var sendVerify = $api.byId('sendVerify');
    //     $api.removeAttr(sendVerify,'onclick');
    //     $api.html(sendVerify,'<span id="GetVerify">120</span>S');
    //     times = 119;
    //     isinerval = setInterval("CountDown()", 1000);
    //     setTimeout(function(){
    //         $api.val($api.byId("code"),'888888');
    //     },500)
        
    // }
    // function CountDown() {
    //     if (times < 1) {
    //         var sendVerify = $api.byId('sendVerify');
    //         $api.attr(sendVerify,'onclick','get_verify()');
    //         $api.html(sendVerify,'重新获取');
    //         clearInterval(isinerval);
    //         return;
    //     }
    //     var getVerify = $api.byId('GetVerify');
    //     $api.html(getVerify,''+times+'');
    //     times--;
    // }
    function openReg(){
        // var header = $api.byId('aui-header');
        var height = api.pageParam.height;
        var width = api.pageParam.width;

        // $api.fixStatusBar(header); 
        // var headerPos = $api.offset(header);
        // var body_h = $api.offset($api.dom('body')).h;
        api.openFrame({
            name: 'reg_frm',
            url: 'reg_frm.html',
            pageParam: {height1:height,width1:width},
            bounces: false,
            rect: {
                x: 0,
                y: height,
                w: width,
                h: 'auto'
            }
        });
    }
</script>
</html>